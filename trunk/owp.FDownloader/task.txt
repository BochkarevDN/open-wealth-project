Требуется добавить возможность агригации данных. Смотри интерфейс SettingsPage, всё что начинается на aggregate.

Требуется добавить в интерфейс SettingsPage.cs логику Enable в зависимости от aggregateСheckBox
Требуется добавить в интерфей SettingsPage.cs выбирать aggregateNumericUpDown и aggregateComboBox  только большие чем comboBoxPeriod
Требуется добавить в интерфей SettingsPage.cs выбирать aggregateNumericUpDown и aggregateComboBox  только большие чем comboBoxPeriod
Требуется добавить в class Settings сохранение настроек интерфейса, для aggregateNumericUpDown, aggregateComboBox , aggregateСheckBox
Возможно следует ввести новый класс BarInterval - который бы объединял значения в aggregateNumericUpDown и aggregateComboBox. Сравнивал их и т.п.
Тогда DropDownList - тоже мог бы содержать его. От значения с 10:30 в DropDownList можно отказаться.
Требуется доработать функцию FinamHelper.Period2String, чтобы она возвращала новые периоды. Если будешь создавать новый класс, можно переместить её в него. ВАЖНО сохранить существующие названия периодов, т.к. какието данные уже закачаны.
Требуется добавить в class Bars информацию о переоде (как в aggregateNumericUpDown, aggregateComboBox ) (обязательные поля конструкторов)
Требуется добавить в class Bars конструктор, позволяющий получить Bars из Bars c периодом (как в aggregateNumericUpDown, aggregateComboBox ) (обязательное поле конструктора)
Требуется добавить в backgroundWorker_DoWork после if (settings.convertCSV2WL) перед if ((settings.margeCsv) || (settings.delCSV)) получение и сохранение агрегированного Bars. Чтото типа:
if (setting.EnableAgr)
{
Bars aBars = new Bars(BarInterval, BarScale, bars);
aBars.Load( ... Period2String() ... ) - если данные уже были, их надо объединить с новыми
aBars.Save( ... Period2String() ... )


}
public enum BarScale
{
    Tick,
    Daily,
    Weekly,
    Monthly,
    Minute,
    Second,
    Quarterly,  !!!
    Yearly,
    Volume
}

 


Думаю требует пояснения про пункт объемам. Это когда во всех барах объем постоянен (например равен 100).
Пример:
Сделка 1: время X цена 500 объем 50
------ создался бар 1 время X цена открытия 500 close low и high цены тоже 500 volume = 50
Сделка 2: время С цена 550 объем 30
------ обновился бар 1 High цена 550 volume = 80
Сделка 3: время Y цена 450 объем 30
------ обновился бар 1 Low цена 450 close = 450 volume = 100
------ создался бар 2 время Y цена открытия 450 close low и high цены тоже 450 volume = 10
и т.д.



если будет ошибка
The designer could not be shown for this file because none of the classes within it can be designed. The designer inspected the following classes in the file: SettingsPage --- The base class 'owp.FDownloader.Page' could not be loaded. Ensure the assembly has been referenced and that all projects have been built. 
то просто нажми F6. Пока не выяснил какой из файлов я удаляю зря. Надеюсь это не exe.

